<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails du Verset</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="details"></div>
    <script src="details.js" defer></script>
</body>
</html>
<style>
    
</style>
<script>
    document.addEventListener("DOMContentLoaded", () => {
    const detailsDiv = document.getElementById("details");

    const params = new URLSearchParams(window.location.search);
    const surahNo = params.get('surahNo');
    const ayahNo = params.get('ayahNo');

    const fetchAyahDetails = async () => {
        try {
            const response = await fetch(`https://quranapi.pages.dev/api/${surahNo}/${ayahNo}.json`);
            const data = await response.json();
            renderDetails(data);
        } catch (error) {
            console.error('Error fetching Ayah details:', error);
            detailsDiv.innerHTML = "<p>Erreur lors du chargement des détails.</p>";
        }
    };

    const renderDetails = (data) => {
        detailsDiv.innerHTML = `
            <div class="card">
                <h2>${data.surahName} (${data.surahNameTranslation})</h2>
                <div class="surah-name-arabic">${data.surahNameArabic}</div>
                <div class="revelation-place">Lieu de révélation : ${data.revelationPlace}</div>
                <div class="verse-count">Nombre de versets : ${data.totalAyah}</div>
                <div class="ayah-text">
                    <p><strong>Ayah ${data.ayahNo}:</strong> ${data.english}</p>
                    <p>${data.arabic1}</p>
                    <p>${data.arabic2}</p>
                </div>
                <h3>Audio</h3>
                <div>
                    ${Object.entries(data.audio).map(([key, value]) => `
                        <p>${value.reciter}: <a href="${value.url}" target="_blank">Écouter</a></p>
                    `).join('')}
                </div>
            </div>
        `;
    };

    fetchAyahDetails();
});

</script>
